<!DOCTYPE html>
<html lang="en">
<!-- 
  path: src/presentation-custom/video-lab.html
  description: Temporal Fusion Module v20.2 - Neural Video Research Lab.
  
  ABSTRACT:
  This module provides a specialized workspace for transforming static 
  photorealistic manifolds into fluid cinematic clips. It utilizes the 
  AnimateDiff Temporal Engine.
  
  REFACTORING NOTE (v20.2):
  - Removed hardcoded navigation for modular js/nav.js injection.
  - Integrated js/footer.js for global site consistency.
  - Optimized for sequential CPU-VRAM offloading telemetry.

  author: Enrique GonzÃ¡lez GutiÃ©rrez <enrique.gonzalez.gutierrez@gmail.com>
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Z-REALISM | Temporal Fusion Lab</title>

    <!-- FAVICON -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Link to the design system and laboratory layouts -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/lab.css">

    <!-- Temporal-specific override for visual distinction (Green Identity) -->
    <style>
        :root {
            --accent: var(--accent-video); /* Reassign global accent to Temporal Green */
        }
        .btn-primary {
            background: var(--accent-video);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        .btn-primary:hover {
            box-shadow: 0 6px 25px rgba(16, 185, 129, 0.5);
        }
        .progress-fill {
            background: var(--accent-video);
            box-shadow: 0 0 15px var(--accent-video);
        }
    </style>
</head>
<body>
    <!-- Persistent Cyber-Grid Ambience -->
    <div class="grid-overlay"></div>

    <!-- 
      NAV INJECTION POINT: 
      The <nav> is automatically injected here by js/nav.js 
    -->

    <!-- Laboratory Workspace -->
    <div class="lab-layout">
        
        <!-- LEFT COLUMN: Temporal Control Panel -->
        <aside class="control-panel">
            
            <!-- 1. IDENTITY SOURCE -->
            <div class="control-group">
                <label for="char-name">SUBJECT DNA</label>
                <input type="text" id="char-name" class="modern-input" placeholder="Character Name">
            </div>
            
            <!-- 2. DATA INGESTION (UPLOAD GENERATED STILL) -->
            <div class="upload-zone" id="drop-zone">
                <input type="file" id="file-upload" hidden accept="image/*">
                <div id="file-label">
                    <span class="upload-icon">ðŸŽ¬</span>
                    <span class="upload-text">LOAD GENERATED STILL</span>
                </div>
            </div>

            <!-- 3. MOTION GUIDANCE -->
            <div class="control-group">
                <label for="motion-prompt">MOTION GUIDANCE</label>
                <textarea id="motion-prompt" class="modern-textarea" placeholder="Describe movement (e.g., subtle breathing, blinking eyes, hair flowing...)"></textarea>
            </div>

            <!-- 4. TEMPORAL PARAMETERS -->
            <div class="control-group">
                <label>DURATION (FRAMES) <span id="val-duration">24</span></label>
                <input type="range" id="input-duration" min="16" max="48" step="8" value="24">
            </div>

            <div class="control-group">
                <label>MOTION INTENSITY <span id="val-bucket">127</span></label>
                <input type="range" id="input-bucket" min="1" max="255" step="1" value="127">
            </div>

            <div class="control-group">
                <label>FPS (PLAYBACK SPEED) <span id="val-fps">8</span></label>
                <input type="range" id="input-fps" min="8" max="24" step="2" value="8">
            </div>

            <!-- 5. EXECUTION INTERFACE -->
            <button id="btn-animate" class="btn btn-primary" style="margin-top: 10px;">
                INITIATE TEMPORAL FUSION
            </button>
            
            <!-- Hardware Hardware Latency Warning -->
            <div style="background: rgba(255,255,255,0.03); padding: 15px; border-radius: 8px; border-left: 2px solid var(--accent-video); margin-top: 5px;">
                <p style="font-size: 0.65rem; color: var(--text-muted); line-height: 1.4;">
                    <strong>HARDWARE NOTE:</strong> Video generation involves sequential CPU-VRAM offloading. 
                    Expect ~120s per frame on local GTX 1060 hardware.
                </p>
            </div>
        </aside>

        <!-- RIGHT COLUMN: Visual Workspace (Viewports) -->
        <main class="viewport-area">
            
            <!-- SOURCE INPUT MONITOR (The Still Image) -->
            <div class="viewport-card" id="source-preview">
                <span class="viewport-label">SOURCE_STILL_MANIFOLD</span>
                <div style="color: rgba(255,255,255,0.03); font-family: var(--font-code); font-size: 2.5rem; font-weight: 800; user-select: none; letter-spacing: 10px;">
                    NO_DATA
                </div>
            </div>

            <!-- TEMPORAL OUTPUT MONITOR (The Video Loop) -->
            <div class="viewport-card" id="result-display">
                <span class="viewport-label">TEMPORAL_MONITOR_ACTIVE</span>
                
                <!-- PROGRESS OVERLAY -->
                <div id="progress-overlay" class="progress-overlay hidden">
                    <div class="status-message" id="status-text">INITIALIZING TEMPORAL ENGINE...</div>
                    <div class="progress-container">
                        <div class="progress-fill" id="progress-bar"></div>
                    </div>
                </div>

                <div style="color: rgba(255,255,255,0.03); font-family: var(--font-code); font-size: 2.5rem; font-weight: 800; user-select: none; letter-spacing: 10px;">
                    WAITING
                </div>
            </div>

        </main>
    </div>

    <!-- 
      SHARED COMPONENTS 
    -->
    <script src="js/nav.js"></script>
    <script src="js/footer.js"></script>

    <!-- 
      APPLICATION LOGIC 
    -->
    <script src="js/api.js"></script>
    <script src="js/lab-video.js"></script>
</body>
</html>